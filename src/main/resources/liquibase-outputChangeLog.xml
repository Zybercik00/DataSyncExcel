<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-latest.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet author="kamilchmiel (generated)" id="1692631162223-1">
        <createSequence sequenceName="ATTRIBUTE_ENTITY_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-2">
        <createSequence sequenceName="CURRENCY_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-3">
        <createSequence sequenceName="EMPLOYEE_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-4">
        <createSequence sequenceName="EXTRACTION_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-5">
        <createSequence sequenceName="MARGIN_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-6">
        <createSequence sequenceName="MATERIAL_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-7">
        <createSequence sequenceName="PURCHASE_PRICE_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-8">
        <createSequence sequenceName="SALE_PRICE_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-9">
        <createSequence sequenceName="SUPPLIER_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-10">
        <createSequence sequenceName="WAREHOUSE_LOCATION_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-11">
        <createSequence sequenceName="WAREHOUSE_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-12">
        <createSequence sequenceName="WASTE_SEC"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-13">
        <createTable tableName="ATTRIBUTE">
            <column name="ATTRIBUTE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_A"/>
            </column>
            <column name="PATH" type="VARCHAR(1024)">
                <constraints nullable="false"/>
            </column>
            <column name="TARGET_PROPERTY" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-14">
        <createTable tableName="CURRENCY">
            <column name="CURRENCY_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_5"/>
            </column>
            <column name="CURRENCY_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-15">
        <createTable tableName="EMPLOYEE">
            <column name="EMPLOYEE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_7"/>
            </column>
            <column name="ACCESS_LEVEL" type="VARCHAR(255)"/>
            <column name="EMPLOYEE_NAME" type="VARCHAR(255)"/>
            <column name="POSITION" type="VARCHAR(255)"/>
            <column name="EXTRACTION_EXTRACTION_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-16">
        <createTable tableName="EXTRACTION">
            <column name="EXTRACTION_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_4"/>
            </column>
            <column name="PREPARED_ON" type="TIMESTAMP"/>
            <column name="RECEIVED_IN_BERN" type="TIMESTAMP"/>
            <column name="SAMPLE_TEST_RESULT" type="numeric(38, 2)"/>
            <column name="WEIGHT_AFTER" type="numeric(38, 2)"/>
            <column name="WEIGHT_BEFORE" type="numeric(38, 2)"/>
            <column name="MATERIAL" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-17">
        <createTable tableName="MARGIN">
            <column name="MARGIN_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_8"/>
            </column>
            <column name="MARGIN_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-18">
        <createTable tableName="MATERIAL">
            <column name="MATERIAL_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_40"/>
            </column>
            <column name="CONTENT" type="VARCHAR(255)"/>
            <column name="STATUS_INVENTORY" type="VARCHAR(255)"/>
            <column name="LOT" type="VARCHAR(255)"/>
            <column name="MATERIAL_NAME" type="VARCHAR(255)"/>
            <column name="WEIGHT" type="VARCHAR(255)"/>
            <column name="SUPPLIER" type="BIGINT"/>
            <column name="WAREHOUSE" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-19">
        <createTable tableName="PURCHASE_PRICE">
            <column name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_2"/>
            </column>
            <column name="PURCHASE_PRICE" type="numeric(38, 2)"/>
            <column name="SALE_PRICE" type="numeric(38, 2)"/>
            <column name="CURRENCY" type="BIGINT"/>
            <column name="EXTRACTION" type="BIGINT"/>
            <column name="MARGIN" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-20">
        <createTable tableName="QUALIFIER_ATTRIBUTE">
            <column name="QUALIFIED_PARENT" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="QUALIFIED_PROPERTY" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="QUALIFIER" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="ATTRIBUTE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_41"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-21">
        <createTable tableName="REFERENCE_ATTRIBUTE">
            <column name="NESTED_PROPERTY" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="ATTRIBUTE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_7E"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-22">
        <createTable tableName="SIMPLE_ATTRIBUTE">
            <column name="ATTRIBUTE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_F"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-23">
        <createTable tableName="SUPPLIER">
            <column name="SUPPILER_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_C"/>
            </column>
            <column name="SUPPILER_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-24">
        <createTable tableName="SUPPLIER_SUPPLIER_MATERIALS">
            <column name="SUPPLIER_SUPPILER_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="SUPPLIER_MATERIALS_MATERIAL_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-25">
        <createTable tableName="WAREHOUSE">
            <column name="WAREHOUSE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_2F"/>
            </column>
            <column name="WAREHOUSE_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-26">
        <createTable tableName="WAREHOUSE_LOCATION">
            <column name="WAREHOUSE_LOCATION_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_3"/>
            </column>
            <column name="LOCATION_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-27">
        <createTable tableName="WASTE">
            <column name="WASTE_ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_4E"/>
            </column>
            <column name="LOSS_AFTER_EXTRACTION_KG" type="numeric(38, 2)"/>
            <column name="LOSS_AFTER_EXTRACTION_PERCENT" type="numeric(38, 2)"/>
            <column name="LOSS_TOTAL_KG" type="numeric(38, 2)"/>
            <column name="LOSS_TOTAL_PERCENTS" type="numeric(38, 2)"/>
            <column name="PACKED_KG" type="numeric(38, 2)"/>
            <column name="EXTRACTION_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-28">
        <addUniqueConstraint columnNames="CURRENCY_NAME" constraintName="UC_CURRENCY_NME" tableName="CURRENCY"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-29">
        <addUniqueConstraint columnNames="EMPLOYEE_NAME" constraintName="UC_EMPLOYEE_NME" tableName="EMPLOYEE"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-30">
        <addUniqueConstraint columnNames="MATERIAL, PREPARED_ON" constraintName="UC_EXTRACTION" tableName="EXTRACTION"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-31">
        <addUniqueConstraint columnNames="MARGIN_NAME" constraintName="UC_MARGIN_NME" tableName="MARGIN"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-32">
        <addUniqueConstraint columnNames="LOT" constraintName="UC_MATERIAL_NME" tableName="MATERIAL"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-33">
        <addUniqueConstraint columnNames="CURRENCY, EXTRACTION" constraintName="UC_PURCHASE_PRICE" tableName="PURCHASE_PRICE"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-34">
        <addUniqueConstraint columnNames="MARGIN, EXTRACTION" constraintName="UC_SALE_PRICE" tableName="PURCHASE_PRICE"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-35">
        <addUniqueConstraint columnNames="EXTRACTION_ID" constraintName="UK_8RGV0VH0GY4DO3HBX4UVVVWV1" tableName="WASTE"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-36">
        <addUniqueConstraint columnNames="EXTRACTION_EXTRACTION_ID" constraintName="UK_I65G8CB2Q9NN2OK0BDNS29NUW" tableName="EMPLOYEE"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-37">
        <addUniqueConstraint columnNames="PATH" constraintName="UK_I9DWKGBOXJETPJRCIVE959RPC" tableName="ATTRIBUTE"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-38">
        <addUniqueConstraint columnNames="SUPPLIER_MATERIALS_MATERIAL_ID" constraintName="UK_T8G2WFTEQGWM9EXD1R5KVJ3XK" tableName="SUPPLIER_SUPPLIER_MATERIALS"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-39">
        <createIndex indexName="FKML69H4R2KMOYA245WWPI0R5YD_INDEX_E" tableName="SUPPLIER_SUPPLIER_MATERIALS">
            <column name="SUPPLIER_SUPPILER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-40">
        <createIndex indexName="FK_EXT_MAT_INDEX_4" tableName="EXTRACTION">
            <column name="MATERIAL"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-41">
        <createIndex indexName="FK_MAT_SPL_INDEX_4" tableName="MATERIAL">
            <column name="SUPPLIER"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-42">
        <createIndex indexName="FK_MAT_WHS_INDEX_4" tableName="MATERIAL">
            <column name="WAREHOUSE"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-43">
        <createIndex indexName="FK_PPR_CUR_INDEX_2" tableName="PURCHASE_PRICE">
            <column name="CURRENCY"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-44">
        <createIndex indexName="FK_SPR_EXT_INDEX_2" tableName="PURCHASE_PRICE">
            <column name="EXTRACTION"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-45">
        <createIndex indexName="FK_SPR_MRG_INDEX_2" tableName="PURCHASE_PRICE">
            <column name="MARGIN"/>
        </createIndex>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-46">
        <addForeignKeyConstraint baseColumnNames="ATTRIBUTE_ID" baseTableName="SIMPLE_ATTRIBUTE" constraintName="FK2EOS2X3ELKKPXUEOA01KKVC49" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ATTRIBUTE_ID" referencedTableName="ATTRIBUTE" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-47">
        <addForeignKeyConstraint baseColumnNames="ATTRIBUTE_ID" baseTableName="REFERENCE_ATTRIBUTE" constraintName="FK8G42UVMPSSGBCJ1TOK85QBSGG" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ATTRIBUTE_ID" referencedTableName="ATTRIBUTE" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-48">
        <addForeignKeyConstraint baseColumnNames="SUPPLIER_MATERIALS_MATERIAL_ID" baseTableName="SUPPLIER_SUPPLIER_MATERIALS" constraintName="FKDM2N0RTDWL5UD918DJ9PYKEX1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="MATERIAL_ID" referencedTableName="MATERIAL" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-49">
        <addForeignKeyConstraint baseColumnNames="SUPPLIER_SUPPILER_ID" baseTableName="SUPPLIER_SUPPLIER_MATERIALS" constraintName="FKML69H4R2KMOYA245WWPI0R5YD" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SUPPILER_ID" referencedTableName="SUPPLIER" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-50">
        <addForeignKeyConstraint baseColumnNames="ATTRIBUTE_ID" baseTableName="QUALIFIER_ATTRIBUTE" constraintName="FKPBIQJOMKGYKDXCS2FN9826BLT" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ATTRIBUTE_ID" referencedTableName="ATTRIBUTE" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-51">
        <addForeignKeyConstraint baseColumnNames="EXTRACTION_EXTRACTION_ID" baseTableName="EMPLOYEE" constraintName="FKQSC9A7HCA6FXQ76HM9OPH2F91" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="EXTRACTION_ID" referencedTableName="EXTRACTION" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-52">
        <addForeignKeyConstraint baseColumnNames="MATERIAL" baseTableName="EXTRACTION" constraintName="FK_EXT_MAT" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="MATERIAL_ID" referencedTableName="MATERIAL" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-53">
        <addForeignKeyConstraint baseColumnNames="SUPPLIER" baseTableName="MATERIAL" constraintName="FK_MAT_SPL" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="SUPPILER_ID" referencedTableName="SUPPLIER" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-54">
        <addForeignKeyConstraint baseColumnNames="WAREHOUSE" baseTableName="MATERIAL" constraintName="FK_MAT_WHS" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="WAREHOUSE_ID" referencedTableName="WAREHOUSE" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-55">
        <addForeignKeyConstraint baseColumnNames="CURRENCY" baseTableName="PURCHASE_PRICE" constraintName="FK_PPR_CUR" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="CURRENCY_ID" referencedTableName="CURRENCY" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-56">
        <addForeignKeyConstraint baseColumnNames="EXTRACTION" baseTableName="PURCHASE_PRICE" constraintName="FK_SPR_EXT" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="EXTRACTION_ID" referencedTableName="EXTRACTION" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-57">
        <addForeignKeyConstraint baseColumnNames="MARGIN" baseTableName="PURCHASE_PRICE" constraintName="FK_SPR_MRG" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="MARGIN_ID" referencedTableName="MARGIN" validate="true"/>
    </changeSet>
    <changeSet author="kamilchmiel (generated)" id="1692631162223-58">
        <addForeignKeyConstraint baseColumnNames="EXTRACTION_ID" baseTableName="WASTE" constraintName="FK_WST_EXT" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="EXTRACTION_ID" referencedTableName="EXTRACTION" validate="true"/>
    </changeSet>
</databaseChangeLog>
